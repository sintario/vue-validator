/*!
 * vue-validator v2.0.0-alpha.20
 * (c) 2016 kazuya kawaguchi
 * Released under the MIT License.
 */
!function(i,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):i.VueValidator=t()}(this,function(){"use strict";function i(i,t){window.console&&(console.warn("[vue-validator] "+i),t&&console.warn(t.stack))}function t(i){if(null===i||void 0===i)return!0;if(Array.isArray(i)){if(i.length>0)return!1;if(0===i.length)return!0}else if(k.Vue.util.isPlainObject(i))for(var t in i)if(k.Vue.util.hasOwn(i,t))return!1;return!0}function e(i,t,e){if(Array.isArray(i))for(var a=0;a<i.length;a++)t.call(e||i[a],i[a],a);else if(k.Vue.util.isPlainObject(i)){var n=k.Vue.util.hasOwn;for(var s in i)n(i,s)&&t.call(e||i[s],i[s],s)}}function a(i,t){var e=k.Vue.util.indexOf(i,t);return~e?i.splice(e,1):null}function n(i,t,e){var a=document.createEvent("HTMLEvents");if(a.initEvent(t,!0,!1),e)for(var n in e)a[n]=e[n];try{i.dispatchEvent(a)}catch(a){}}function s(i){if(Array.isArray(i)){if(0!==i.length){for(var t=!0,e=0,a=i.length;a>e&&(t=s(i[e]),t);e++);return t}return!1}return"number"==typeof i||"function"==typeof i?!0:"boolean"==typeof i?i:"string"==typeof i?i.length>0:null!==i&&"object"===("undefined"==typeof i?"undefined":y["typeof"](i))?Object.keys(i).length>0:null===i||void 0===i?!1:void 0}function o(i,t){if("string"!=typeof t)return!1;var e=t.match(new RegExp("^/(.*?)/([gimy]*)$"));return e?new RegExp(e[1],e[2]).test(i):!1}function l(i,t){return"string"==typeof i?u(t,10)&&i.length>=parseInt(t,10):Array.isArray(i)?i.length>=parseInt(t,10):!1}function r(i,t){return"string"==typeof i?u(t,10)&&i.length<=parseInt(t,10):Array.isArray(i)?i.length<=parseInt(t,10):!1}function d(i,t){return!isNaN(+i)&&!isNaN(+t)&&+i>=+t}function h(i,t){return!isNaN(+i)&&!isNaN(+t)&&+t>=+i}function u(i){return/^(-?[1-9]\d*|0)$/.test(i)}function c(i){var t=i.util.extend,e=Object.create(null);t(e,V),i.options.validators=e;var a=i.config.optionMergeStrategies;a&&(a.validators=function(i,e){if(!e)return i;if(!i)return e;var a=Object.create(null);t(a,i);for(var n in e)a[n]=e[n];return a}),i.validator=function(t,e){return e?void(i.options.validators[t]=e):i.options.validators[t]}}function v(i){var t=i.prototype._init;i.prototype._init=function(i){this._validatorMaps||(this._validatorMaps=Object.create(null)),t.call(this,i)};var e=i.prototype._destroy;i.prototype._destroy=function(){e.apply(this,arguments),this._validatorMaps=null}}function f(t){var a=t.util,n=t.directive("if"),s=t.FragmentFactory;t.compiler.terminalDirectives.push("validate"),t.directive("validate",{priority:n.priority+1,params:["group","field"],bind:function(){if(this.el.__vue__)return void i('v-validate="'+this.expression+'" cannot be used on an instance root element.');var t=this.vm.$options._validator;return t?(this.model=this.el.getAttribute("v-model"),this.setupFragment(),this.setupValidate(t,this.model),void this.listen()):void i('v-validate need to use into validator element directive: (e.g. <validator name="validator"><input type="text" v-validate:field1="[\'required\']"></validator>).')},update:function(i,t){i&&(a.isPlainObject(i)?this.handleObject(i):Array.isArray(i)&&this.handleArray(i),this.validator.validate(this.validation))},unbind:function(){this.unlisten(),this.teardownValidate(),this.teardownFragment(),this.model=null},setupValidate:function(i,t){var e=this.params,n=this.validator=this.vm._validatorMaps[i];this.field=a.camelize(this.arg?this.arg:e.field),this.validation=n.manageValidation(this.field,t,this.vm,this.frag.node,this._scope),e.group&&n.addGroupValidation(e.group,this.field)},listen:function(){var i=this.model,t=this.validation,e=this.frag.node;this.onBlur=a.bind(t.listener,t),a.on(e,"blur",this.onBlur),"radio"!==e.type&&"SELECT"!==e.tagName||i?"checkbox"===e.type?i?(this.onClick=a.bind(t.listener,t),a.on(e,"click",this.onClick)):(this.onChange=a.bind(t.listener,t),a.on(e,"change",this.onChange)):i||(this.onInput=a.bind(t.listener,t),a.on(e,"input",this.onInput)):(this.onChange=a.bind(t.listener,t),a.on(e,"change",this.onChange))},unlisten:function(){var i=this.frag.node;this.onInput&&(a.off(i,"input",this.onInput),this.onInput=null),this.onClick&&(a.off(i,"click",this.onClick),this.onClick=null),this.onChange&&(a.off(i,"change",this.onChange),this.onChange=null),this.onBlur&&(a.off(i,"blur",this.onBlur),this.onBlur=null)},teardownValidate:function(){if(this.validator&&this.validation){var i=this.frag.node;this.params.group&&this.validator.removeGroupValidation(this.params.group,this.field),this.validator.unmanageValidation(this.field,i),this.validator=null,this.validation=null,this.field=null}},setupFragment:function(){this.anchor=a.createAnchor("v-validate"),a.replace(this.el,this.anchor),this.factory=new s(this.vm,this.el),this.frag=this.factory.create(this._host,this._scope,this._frag),this.frag.before(this.anchor)},teardownFragment:function(){this.frag&&(this.frag.remove(),this.frag=null,this.factory=null),a.replace(this.anchor,this.el),this.anchor=null},handleArray:function(i){var t=this;e(i,function(i){t.validation.setValidation(i)},this)},handleObject:function(i){var t=this;e(i,function(i,e){if(a.isPlainObject(i)){if("rule"in i){var n="message"in i?i.message:null;t.validation.setValidation(e,i.rule,n)}}else t.validation.setValidation(e,i)},this)}})}function _(t){var e=t.util,a=t.FragmentFactory,n=t.directive("if"),s=t.util.camelize;t.elementDirective("validator",{params:["name","groups","lazy"],bind:function(){if(!this.params.name)return void i("validator element directive need to specify 'name' param attribute: (e.g. <validator name=\"validator1\">...</validator>)");if(this.validatorName="$"+s(this.params.name),!this.vm._validatorMaps)throw new Error("Invalid validator management error");this.setupValidator(),this.setupFragment(this.params.lazy)},unbind:function(){this.teardownFragment(),this.teardownValidator()},getGroups:function(){var i=[];return this.params.groups&&(e.isArray(this.params.groups)?i=this.params.groups:e.isPlainObject(this.params.groups)||"string"!=typeof this.params.groups||i.push(this.params.groups)),i},setupValidator:function(){var i=this.validator=new S(this.validatorName,this,this.getGroups());i.enableReactive(),i.setupScope(),i.registerEvents()},teardownValidator:function(){this.validator.unregisterEvents(),this.validator.disableReactive(),this.validatorName&&(this.validatorName=null,this.validator=null)},setupFragment:function(i){var t=this;this.validator.waitFor(function(){t.anchor=e.createAnchor("vue-validator"),e.replace(t.el,t.anchor),e.extend(t.vm.$options,{_validator:t.validatorName}),t.factory=new a(t.vm,t.el.innerHTML),n.insert.call(t),t.validator.validate()}),i||this.vm.$activateValidator()},teardownFragment:function(){n.unbind.call(this)}})}function m(i){var t={name:"validator-error",props:{field:{type:String,required:!0},validator:{type:String},message:{type:String,required:!0},partial:{type:String,"default":"validator-error-default"}},template:'<div><partial :name="partial"></partial></div>',partials:{}};return t.partials["validator-error-default"]="<p>{{field}}: {{message}}</p>",t}function p(i){var t=i.util,e=m(i),a={name:"validator-errors",props:{validation:{type:Object,required:!0},group:{type:String,"default":null},field:{type:String,"default":null},component:{type:String,"default":"validator-error"}},computed:{errors:function(){var i=this;if(null!==this.group)return this.validation[this.group].errors;if(null!==this.field){var e=this.validation[this.field];return e.errors.map(function(e){var a={field:i.field};return t.isPlainObject(e)?(e.validator&&(a.validator=e.validator),a.message=e.message):"string"==typeof e&&(a.message=e),a})}return this.validation.errors}},template:'<template v-for="error in errors"><component :is="component" :partial="partial" :field="error.field" :validator="error.validator" :message="error.message"></component></template>',components:{}};return a.props.partial=e.props.partial,a.components[e.name]=e,i.component(a.name,a),a}function g(t){arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return g.installed?void i("already installed."):(k.Vue=t,c(t),p(t),v(t),_(t),void f(t))}var y={};y["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol?"symbol":typeof i},y.classCallCheck=function(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")},y.createClass=function(){function i(i,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(t,e,a){return e&&i(t.prototype,e),a&&i(t,a),t}}();var k={},V=Object.freeze({required:s,pattern:o,minlength:l,maxlength:r,min:d,max:h}),w=function(){function i(t,e,a,n,s,o){y.classCallCheck(this,i),this.field=t,this.touched=!1,this.dirty=!1,this.modified=!1,this._modified=!1,this._model=e,this._validator=o,this._vm=a,this._el=n,this._forScope=s,this._init=this._getValue(n),this._validators={}}return y.createClass(i,[{key:"manageElement",value:function(i){var t=this,e=this._getScope(),a=this._model;a&&(i.value=e.$get(a)||"",this._unwatch=e.$watch(a,function(e,a){e!==a&&t.handleValidate(i)},{deep:!0}))}},{key:"unmanageElement",value:function(i){this._unwatch&&this._unwatch()}},{key:"setValidation",value:function(i,t,e){var a=this._validators[i];a||(a=this._validators[i]={},a.name=i),a.arg=t,e&&(a.msg=e)}},{key:"willUpdateFlags",value:function(){this.willUpdateDirty(this._el),this.willUpdateModified(this._el)}},{key:"willUpdateTouched",value:function(i,t){t&&"blur"===t&&(this.touched=!0,this._fireEvent(i,"touched"))}},{key:"willUpdateDirty",value:function(i){!this.dirty&&this._checkModified(i)&&(this.dirty=!0,this._fireEvent(i,"dirty"))}},{key:"willUpdateModified",value:function(i){this.modified=this._checkModified(i),this._modified!==this.modified&&(this._fireEvent(i,"modified",{modified:this.modified}),this._modified=this.modified)}},{key:"listener",value:function(i){(!i.relatedTarget||"A"!==i.relatedTarget.tagName&&"BUTTON"!==i.relatedTarget.tagName)&&this.handleValidate(i.target,i.type)}},{key:"handleValidate",value:function(i,t){this.willUpdateTouched(i,t),this.willUpdateDirty(i),this.willUpdateModified(i),this._validator.validate()}},{key:"validate",value:function(){var i=this,a=k.Vue.util,n={},s=[],o=!0;e(this._validators,function(t,e){var l=i._resolveValidator(e),r=null,d=null;if(a.isPlainObject(l)?(l.check&&"function"==typeof l.check&&(r=l.check),l.message&&(d=l.message)):"function"==typeof l&&(r=l),t.msg&&(d=t.msg),r){var h=r.call(i._vm,i._getValue(i._el),t.arg);if(h)n[e]=!h;else if(o=!1,d){var u={validator:e};u.message="function"==typeof d?d.call(i._vm,i.field,t.arg):d,s.push(u),n[e]=u.message}else n[e]=!h}},this),this._fireEvent(this._el,o?"valid":"invalid");var l={valid:o,invalid:!o,touched:this.touched,untouched:!this.touched,dirty:this.dirty,pristine:!this.dirty,modified:this.modified};return t(s)||(l.errors=s),a.extend(n,l),n}},{key:"resetFlags",value:function(){this.touched=!1,this.dirty=!1,this.modified=!1,this._modified=!1}},{key:"reset",value:function(){this.resetFlags(),this._init=this._getValue(this._el)}},{key:"_getValue",value:function(i){return i.value}},{key:"_getScope",value:function(){return this._forScope||this._vm}},{key:"_checkModified",value:function(i){return this._init!==this._getValue(i)}},{key:"_fireEvent",value:function(i,t,e){n(i,t,e)}},{key:"_resolveValidator",value:function(i){var t=k.Vue.util.resolveAsset;return t(this._vm.$options,"validators",i)}}]),i}(),b=function(){function i(t,e,a,n,s,o){y.classCallCheck(this,i),this.field=t,this.touched=!1,this.dirty=!1,this.modified=!1,this._modified=!1,this._model=e,this._validator=o,this._vm=a,this._el=n,this._forScope=s,this._init=this._getValue(n),this._validators={},this._inits=[]}return y.createClass(i,[{key:"manageElement",value:function(i){var t=this,e=this._addItem(i),a=this._getScope(),n=e.model=this._model;if(n){var s=a.$get(n);Array.isArray(s)?(this._setChecked(s,e.el),e.unwatch=a.$watch(n,function(i,a){i!==a&&t.handleValidate(e.el)})):(i.checked=s||!1,this._init=i.checked,e.init=i.checked,e.value=i.value,e.unwatch=a.$watch(n,function(e,a){e!==a&&t.handleValidate(i)}))}else this._validator.validate()}},{key:"unmanageElement",value:function(i){var t=-1;e(this._inits,function(e,a){e.el===i&&(t=a,e.unwatch&&e.model&&(e.unwatch(),e.unwatch=null,e.model=null))}),-1!==t&&(this._inits.splice(t,1),this._validator.validate())}},{key:"setValidation",value:function(i,t,e){var a=this._validators[i];a||(a=this._validators[i]={},a.name=i),a.arg=t,e&&(a.msg=e)}},{key:"willUpdateFlags",value:function(){var i=this;e(this._inits,function(t,e){i.willUpdateDirty(t.el),i.willUpdateModified(t.el)},this)}},{key:"willUpdateTouched",value:function(i,t){t&&"blur"===t&&(this.touched=!0,this._fireEvent(i,"touched"))}},{key:"willUpdateDirty",value:function(i){!this.dirty&&this._checkModified(i)&&(this.dirty=!0,this._fireEvent(i,"dirty"))}},{key:"willUpdateModified",value:function(i){this.modified=this._checkModified(i),this._modified!==this.modified&&(this._fireEvent(i,"modified",{modified:this.modified}),this._modified=this.modified)}},{key:"listener",value:function(i){(!i.relatedTarget||"A"!==i.relatedTarget.tagName&&"BUTTON"!==i.relatedTarget.tagName)&&this.handleValidate(i.target,i.type)}},{key:"handleValidate",value:function(i,t){this.willUpdateTouched(i,t),this.willUpdateDirty(i),this.willUpdateModified(i),this._validator.validate()}},{key:"validate",value:function(){var i=this,a=k.Vue.util,n={},s=[],o=!0;e(this._validators,function(t,e){var l=i._resolveValidator(e),r=null,d=null;if(a.isPlainObject(l)?(l.check&&"function"==typeof l.check&&(r=l.check),l.message&&(d=l.message)):"function"==typeof l&&(r=l),t.msg&&(d=t.msg),r){var h=r.call(i._vm,i._getValue(i._el),t.arg);if(h)n[e]=!h;else if(o=!1,d){var u={validator:e};u.message="function"==typeof d?d.call(i._vm,i.field,t.arg):d,s.push(u),n[e]=u.message}else n[e]=!h}},this),this._fireEvent(this._el,o?"valid":"invalid");var l={valid:o,invalid:!o,touched:this.touched,untouched:!this.touched,dirty:this.dirty,pristine:!this.dirty,modified:this.modified};return t(s)||(l.errors=s),a.extend(n,l),n}},{key:"resetFlags",value:function(){this.touched=!1,this.dirty=!1,this.modified=!1,this._modified=!1}},{key:"reset",value:function(){this.resetFlags(),e(this._inits,function(i,t){i.init=i.el.checked,i.value=i.el.value})}},{key:"_addItem",value:function(i){var t={el:i,init:i.checked,value:i.value};return this._inits.push(t),t}},{key:"_setChecked",value:function(i,t){for(var e=0,a=i.length;a>e;e++){var n=i[e];t.disabled||t.value!==n||t.checked||(t.checked=!0)}}},{key:"_getValue",value:function(i){var t=this;if(!this._inits||0===this._inits.length)return i.checked;var a=function(){var i=[];return e(t._inits,function(t,e){t.el.checked&&i.push(t.el.value)}),{v:i}}();return"object"===("undefined"==typeof a?"undefined":y["typeof"](a))?a.v:void 0}},{key:"_getScope",value:function(){return this._forScope||this._vm}},{key:"_checkModified",value:function(i){var t=this;if(0===this._inits.length)return this._init!==i.checked;var a=function(){var i=!1;return e(t._inits,function(t,e){i||(i=t.init!==t.el.checked)}),{v:i}}();return"object"===("undefined"==typeof a?"undefined":y["typeof"](a))?a.v:void 0}},{key:"_fireEvent",value:function(i,t,e){n(i,t,e)}},{key:"_resolveValidator",value:function(i){var t=k.Vue.util.resolveAsset;return t(this._vm.$options,"validators",i)}}]),i}(),E=function(){function i(t,e,a,n,s,o){y.classCallCheck(this,i),this.field=t,this.touched=!1,this.dirty=!1,this.modified=!1,this._modified=!1,this._model=e,this._validator=o,this._vm=a,this._el=n,this._forScope=s,this._init=this._getValue(n),this._validators={},this._inits=[]}return y.createClass(i,[{key:"manageElement",value:function(i){var t=this,e=this._addItem(i),a=this._getScope(),n=e.model=this._model;if(n){var s=a.$get(n);this._setChecked(s,i,e),e.unwatch=a.$watch(n,function(e,a){e!==a&&t.handleValidate(i)})}else this._validator.validate()}},{key:"unmanageElement",value:function(i){var t=-1;e(this._inits,function(e,a){e.el===i&&(t=a)}),-1!==t&&(this._inits.splice(t,1),this._validator.validate())}},{key:"setValidation",value:function(i,t,e){var a=this._validators[i];a||(a=this._validators[i]={},a.name=i),a.arg=t,e&&(a.msg=e)}},{key:"willUpdateFlags",value:function(){var i=this;e(this._inits,function(t,e){i.willUpdateDirty(t.el),i.willUpdateModified(t.el)},this)}},{key:"willUpdateTouched",value:function(i,t){t&&"blur"===t&&(this.touched=!0,this._fireEvent(i,"touched"))}},{key:"willUpdateDirty",value:function(i){!this.dirty&&this._checkModified(i)&&(this.dirty=!0,this._fireEvent(i,"dirty"))}},{key:"willUpdateModified",value:function(i){this.modified=this._checkModified(i),this._modified!==this.modified&&(this._fireEvent(i,"modified",{modified:this.modified}),this._modified=this.modified)}},{key:"listener",value:function(i){(!i.relatedTarget||"A"!==i.relatedTarget.tagName&&"BUTTON"!==i.relatedTarget.tagName)&&this.handleValidate(i.target,i.type)}},{key:"handleValidate",value:function(i,t){this.willUpdateTouched(i,t),this.willUpdateDirty(i),this.willUpdateModified(i),this._validator.validate()}},{key:"validate",value:function(){var i=this,a=k.Vue.util,n={},s=[],o=!0;e(this._validators,function(t,e){var l=i._resolveValidator(e),r=null,d=null;if(a.isPlainObject(l)?(l.check&&"function"==typeof l.check&&(r=l.check),l.message&&(d=l.message)):"function"==typeof l&&(r=l),t.msg&&(d=t.msg),r){var h=r.call(i._vm,i._getValue(i._el),t.arg);if(h)n[e]=!h;else if(o=!1,d){var u={validator:e};u.message="function"==typeof d?d.call(i._vm,i.field,t.arg):d,s.push(u),n[e]=u.message}else n[e]=!h}},this),this._fireEvent(this._el,o?"valid":"invalid");var l={valid:o,invalid:!o,touched:this.touched,untouched:!this.touched,dirty:this.dirty,pristine:!this.dirty,modified:this.modified};return t(s)||(l.errors=s),a.extend(n,l),n}},{key:"resetFlags",value:function(){this.touched=!1,this.dirty=!1,this.modified=!1,this._modified=!1}},{key:"reset",value:function(){this.resetFlags(),e(this._inits,function(i,t){i.init=i.el.checked,i.value=i.el.value})}},{key:"_addItem",value:function(i){var t={el:i,init:i.checked,value:i.value};return this._inits.push(t),t}},{key:"_setChecked",value:function(i,t,e){t.value===i&&(t.checked=!0,this._init=t.checked,e.init=t.checked,e.value=i)}},{key:"_getValue",value:function(i){var t=this;if(!this._inits||0===this._inits.length)return i.checked;var a=function(){var i=[];return e(t._inits,function(t,e){t.el.checked&&i.push(t.el.value)}),{v:i}}();return"object"===("undefined"==typeof a?"undefined":y["typeof"](a))?a.v:void 0}},{key:"_getScope",value:function(){return this._forScope||this._vm}},{key:"_checkModified",value:function(i){var t=this;if(0===this._inits.length)return this._init!==i.checked;var a=function(){var i=!1;return e(t._inits,function(t,e){i||(i=t.init!==t.el.checked)}),{v:i}}();return"object"===("undefined"==typeof a?"undefined":y["typeof"](a))?a.v:void 0}},{key:"_fireEvent",value:function(i,t,e){n(i,t,e)}},{key:"_resolveValidator",value:function(i){var t=k.Vue.util.resolveAsset;return t(this._vm.$options,"validators",i)}}]),i}(),U=function(){function i(t,e,a,n,s,o){y.classCallCheck(this,i),this.field=t,this.touched=!1,this.dirty=!1,this.modified=!1,this._modified=!1,this._model=e,this._validator=o,this._vm=a,this._el=n,this._forScope=s,this._init=this._getValue(n),this._validators={},this._multiple=this._el.hasAttribute("multiple")}return y.createClass(i,[{key:"manageElement",value:function(i){var t=this,e=this._getScope(),a=this._model;if(a){var n=e.$get(a),s=Array.isArray(n)?n:[n];this._setOption(s,i),this._unwatch=e.$watch(a,function(e,a){var n=Array.isArray(e)?e:[e],s=Array.isArray(a)?a:[a];n.slice().sort().toString()!==s.slice().sort().toString()&&t.handleValidate(i)})}}},{key:"unmanageElement",value:function(i){this._unwatch&&this._unwatch()}},{key:"setValidation",value:function(i,t,e){var a=this._validators[i];a||(a=this._validators[i]={},a.name=i),a.arg=t,e&&(a.msg=e)}},{key:"willUpdateFlags",value:function(){this.willUpdateDirty(this._el),this.willUpdateModified(this._el)}},{key:"willUpdateTouched",value:function(i,t){t&&"blur"===t&&(this.touched=!0,this._fireEvent(i,"touched"))}},{key:"willUpdateDirty",value:function(i){!this.dirty&&this._checkModified(i)&&(this.dirty=!0,this._fireEvent(i,"dirty"))}},{key:"willUpdateModified",value:function(i){this.modified=this._checkModified(i),this._modified!==this.modified&&(this._fireEvent(i,"modified",{modified:this.modified}),this._modified=this.modified)}},{key:"listener",value:function(i){(!i.relatedTarget||"A"!==i.relatedTarget.tagName&&"BUTTON"!==i.relatedTarget.tagName)&&this.handleValidate(i.target,i.type)}},{key:"handleValidate",value:function(i,t){this.willUpdateTouched(i,t),this.willUpdateDirty(i),this.willUpdateModified(i),this._validator.validate()}},{key:"validate",value:function(){var i=this,a=k.Vue.util,n={},s=[],o=!0;e(this._validators,function(t,e){var l=i._resolveValidator(e),r=null,d=null;if(a.isPlainObject(l)?(l.check&&"function"==typeof l.check&&(r=l.check),l.message&&(d=l.message)):"function"==typeof l&&(r=l),t.msg&&(d=t.msg),r){var h=r.call(i._vm,i._getValue(i._el),t.arg);if(h)n[e]=!h;else if(o=!1,d){var u={validator:e};u.message="function"==typeof d?d.call(i._vm,i.field,t.arg):d,s.push(u),n[e]=u.message}else n[e]=!h}},this),this._fireEvent(this._el,o?"valid":"invalid");var l={valid:o,invalid:!o,touched:this.touched,untouched:!this.touched,dirty:this.dirty,pristine:!this.dirty,modified:this.modified};return t(s)||(l.errors=s),a.extend(n,l),n}},{key:"resetFlags",value:function(){this.touched=!1,this.dirty=!1,this.modified=!1,this._modified=!1}},{key:"reset",value:function(){this.resetFlags()}},{key:"_getValue",value:function(i){for(var t=[],e=0,a=i.options.length;a>e;e++){var n=i.options[e];!n.disabled&&n.selected&&t.push(n.value)}return t}},{key:"_getScope",value:function(){return this._forScope||this._vm}},{key:"_setOption",value:function(i,t){for(var e=0,a=i.length;a>e;e++)for(var n=i[e],s=0,o=t.options.length;o>s;s++){var l=t.options[s];l.disabled||l.value!==n||l.hasAttribute("selected")&&l.selected||(l.selected=!0)}}},{key:"_checkModified",value:function(i){var t=this._getValue(i).slice().sort();if(this._init.length!==t.length)return!0;var e=this._init.slice().sort();return e.toString()!==t.toString()}},{key:"_fireEvent",value:function(i,t,e){n(i,t,e)}},{key:"_resolveValidator",value:function(i){var t=k.Vue.util.resolveAsset;return t(this._vm.$options,"validators",i)}}]),i}(),C=/^v-on:|^@/,S=function(){function i(t,a,n){var s=this;y.classCallCheck(this,i),this.name=t,this._scope={},this._dir=a,this._validations={},this._checkboxValidations={},this._radioValidations={},this._groups=n,this._groupValidations={},this._events={},this._modified=!1,e(n,function(i){s._groupValidations[i]=[]},this)}return y.createClass(i,[{key:"enableReactive",value:function(){var i=this;k.Vue.util.defineReactive(this._dir.vm,this.name,this._scope),this._dir.vm._validatorMaps[this.name]=this,this._dir.vm.$validatorReset=function(){i.resetValidation()},this._dir.vm.$validate=function(t){i._validate(t)},this._dir.vm.$setValidationErrors=function(t){i._setValidationErrors(t)}}},{key:"disableReactive",value:function(){this._dir.vm.$setValidationErrors=void 0,this._dir.vm.$validate=void 0,this._dir.vm.$validatorReset=void 0,this._dir.vm._validatorMaps[this.name]=null,this._dir.vm[this.name]=null}},{key:"registerEvents",value:function(){for(var i=this._dir.el.attributes,t=0,e=i.length;e>t;t++){var a=i[t].name;C.test(a)&&(a=a.replace(C,""),this._events[this._getEventName(a)]=this._dir.vm.$eval(i[t].value,!0))}}},{key:"unregisterEvents",value:function(){var i=this;e(this._events,function(t,e){i._events[e]=null,delete i._events[e]},this)}},{key:"_validate",value:function(i){var t=this._validations[i];if(!t&&this._checkboxValidations[i]?t=this._checkboxValidations[i].validation:!t&&this._radioValidations[i]&&(t=this._radioValidations[i].validation),t){t.willUpdateFlags();var e=t.validate();k.Vue.set(this._scope,i,e),this._scope.dirty&&this._fireEvent("dirty"),this._modified!==this._scope.modified&&(this._fireEvent("modified",this._scope.modified),this._modified=this._scope.modified);var a=this._scope.valid;this._fireEvent(a?"valid":"invalid")}}},{key:"resetValidation",value:function(){e(this._validations,function(i,t){i.reset()},this),e(this._checkboxValidations,function(i,t){i.validation.reset()},this),e(this._radioValidations,function(i,t){i.validation.reset()},this),this.validate()}},{key:"_setValidationErrors",value:function(i){var t=this,a=k.Vue.util.extend,n={};e(i,function(i,t){n[i.field]||(n[i.field]=[]),n[i.field].push(i)}),e(n,function(i,n){var s=t._scope[n],o={};e(i,function(i){i.validator&&(s[i.validator]=i.message)}),s.valid=!1,s.invalid=!0,s.errors=i,a(o,s),k.Vue.set(t._scope,n,o)},this)}},{key:"manageValidation",value:function(i,t,e,a,n){var s=null;return s="SELECT"===a.tagName?this._manageSelectValidation(i,t,e,a,n):"checkbox"===a.type?this._manageCheckboxValidation(i,t,e,a,n):"radio"===a.type?this._manageRadioValidation(i,t,e,a,n):this._manageBaseValidation(i,t,e,a,n)}},{key:"unmanageValidation",value:function(i,t){"checkbox"===t.type?this._unmanageCheckboxValidation(i,t):"radio"===t.type?this._unmanageRadioValidation(i,t):"SELECT"===t.tagName?this._unmanageSelectValidation(i,t):this._unmanageBaseValidation(i,t)}},{key:"_manageBaseValidation",value:function(i,t,e,a,n){var s=this._validations[i]=new w(i,t,e,a,n,this);return s.manageElement(a),s}},{key:"_unmanageBaseValidation",value:function(i,t){var e=this._validations[i];e&&(e.unmanageElement(t),k.Vue["delete"](this._scope,i),this._validations[i]=null,delete this._validations[i])}},{key:"_manageCheckboxValidation",value:function(i,t,e,a,n){var s=this._checkboxValidations[i];if(!s){var o=new b(i,t,e,a,n,this);s={validation:o,elements:0},this._checkboxValidations[i]=s}return s.elements++,s.validation.manageElement(a),s.validation}},{key:"_unmanageCheckboxValidation",value:function(i,t){var e=this._checkboxValidations[i];e&&(e.elements--,e.validation.unmanageElement(t),0===e.elements&&(k.Vue["delete"](this._scope,i),this._checkboxValidations[i]=null,delete this._checkboxValidations[i]))}},{key:"_manageRadioValidation",value:function(i,t,e,a,n){var s=this._radioValidations[i];if(!s){var o=new E(i,t,e,a,n,this);s={validation:o,elements:0},this._radioValidations[i]=s}return s.elements++,s.validation.manageElement(a),s.validation}},{key:"_unmanageRadioValidation",value:function(i,t){var e=this._radioValidations[i];e&&(e.elements--,e.validation.unmanageElement(t),0===e.elements&&(k.Vue["delete"](this._scope,i),this._radioValidations[i]=null,delete this._radioValidations[i]))}},{key:"_manageSelectValidation",value:function(i,t,e,a,n){var s=this._validations[i]=new U(i,t,e,a,n,this);return s.manageElement(a),s}},{key:"_unmanageSelectValidation",value:function(i,t){var e=this._validations[i];e&&(e.unmanageElement(t),k.Vue["delete"](this._scope,i),this._validations[i]=null,delete this._validations[i])}},{key:"addGroupValidation",value:function(i,t){var e=k.Vue.util.indexOf,a=this._validations[t]||this._checkboxValidations[t].validation||this._radioValidations[t].validation,n=this._groupValidations[i];n&&(~e(n,a)||n.push(a))}},{key:"removeGroupValidation",value:function(i,t){var e=this._validations[t]||this._checkboxValidations[t].validation||this._radioValidations[t].validation,n=this._groupValidations[i];n&&a(n,e)}},{key:"validate",value:function(i){var t=this;e(this._validations,function(i,e){var a=i.validate();k.Vue.set(t._scope,e,a)},this),e(this._checkboxValidations,function(i,e){var a=i.validation.validate();k.Vue.set(t._scope,e,a)},this),e(this._radioValidations,function(i,e){var a=i.validation.validate();k.Vue.set(t._scope,e,a)},this),this._scope.touched&&this._fireEvent("touched"),this._scope.dirty&&this._fireEvent("dirty"),this._modified!==this._scope.modified&&(this._fireEvent("modified",this._scope.modified),this._modified=this._scope.modified);var a=this._scope.valid;this._fireEvent(a?"valid":"invalid")}},{key:"setupScope",value:function(){var i=this,t=function(){return i.validations},a=function(){return i._scope};this._defineProperties(t,a),e(this._groups,function(t){var e=i._groupValidations[t],a={};k.Vue.set(i._scope,t,a),i._defineProperties(function(){return e},function(){return a})},this)}},{key:"waitFor",value:function(i){var t=this._dir.vm,e="$activateValidator";this._dir.vm[e]=function(){i(),t[e]=null}}},{key:"_fireEvent",value:function(i){for(var t=this._events[this._getEventName(i)],e=arguments.length,a=Array(e>1?e-1:0),n=1;e>n;n++)a[n-1]=arguments[n];t&&t.apply(null,a)}},{key:"_getEventName",value:function(i){return this.name+":"+i}},{key:"_defineProperties",value:function(i,t){var a=this,n=k.Vue.util.bind;e({valid:{fn:this._defineValid,arg:i},invalid:{fn:this._defineInvalid,arg:t},touched:{fn:this._defineTouched,arg:i},untouched:{fn:this._defineUntouched,arg:t},modified:{fn:this._defineModified,arg:i},dirty:{fn:this._defineDirty,arg:i},pristine:{fn:this._definePristine,arg:t},errors:{fn:this._defineErrors,arg:i}},function(i,e){Object.defineProperty(t(),e,{enumerable:!0,configurable:!0,get:function(){return n(i.fn,a)(i.arg)}})},this)}},{key:"_walkValidations",value:function(i,t,a){var n=this,s=k.Vue.util.hasOwn,o=a;return e(i,function(i,e){if(o!==!a&&s(n._scope,i.field)){var l=n._scope[i.field];l&&l[t]===!a&&(o=!a)}},this),o}},{key:"_defineValid",value:function(i){return this._walkValidations(i(),"valid",!0)}},{key:"_defineInvalid",value:function(i){return!i().valid}},{key:"_defineTouched",value:function(i){return this._walkValidations(i(),"touched",!1)}},{key:"_defineUntouched",value:function(i){return!i().touched}},{key:"_defineModified",value:function(i){return this._walkValidations(i(),"modified",!1)}},{key:"_defineDirty",value:function(i){return this._walkValidations(i(),"dirty",!1)}},{key:"_definePristine",value:function(i){return!i().dirty}},{key:"_defineErrors",value:function(i){var a=this,n=k.Vue.util.hasOwn,s=k.Vue.util.isPlainObject,o=[];return e(i(),function(i,l){if(n(a._scope,i.field)){var r=a._scope[i.field];r&&!t(r.errors)&&e(r.errors,function(t,e){var a={field:i.field};s(t)?(t.validator&&(a.validator=t.validator),a.message=t.message):"string"==typeof t&&(a.message=t),o.push(a)},a)}},this),t(o)?void 0:o}},{key:"validations",get:function(){var i=k.Vue.util.extend,t={};return i(t,this._validations),e(this._checkboxValidations,function(i,e){t[e]=i.validation},this),e(this._radioValidations,function(i,e){t[e]=i.validation},this),t}}]),i}();return g.version="2.0.0-alpha.20","undefined"!=typeof window&&window.Vue&&window.Vue.use(g),g});